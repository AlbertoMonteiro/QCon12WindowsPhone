(function(a){var b=a.telerik;b.scripts.push("telerik.editor.js");function ax(bc){var bd={};for(var bb=0;bb<bc.length;bb++){bd[bc[bb]]=true}return bd}var z=ax("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),g="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul".split(","),f=ax(g),ad="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var".split(","),ac=ax(ad),E=ax("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var aB=function(bb){if(bb.nodeType==1){bb.normalize()}};if(a.browser.msie&&parseInt(a.browser.version)>=8){aB=function(bc){if(bc.nodeType==1&&bc.firstChild){var bd=bc.firstChild,bb=bd;while(bb=bb.nextSibling){if(bb.nodeType==3&&bd.nodeType==3){bb.nodeValue=bd.nodeValue+bb.nodeValue;x.remove(bd)}bd=bb}}}}function G(bc){var bb=0;while(bc=bc.previousSibling){bb++}return bb}function am(bb){return bb&&bb.nodeValue!==null&&bb.data!==null}function ak(bd,bc){try{return !am(bd)&&(a.contains(bd,am(bc)?bc.parentNode:bc)||bc.parentNode==bd)}catch(bb){return false}}function al(bc,bb){return ak(bc,bb)||bc==bb}function F(bc,bb){if(ak(bc,bb)){while(bb&&bb.parentNode!=bc){bb=bb.parentNode}}return bb}function T(bb){return am(bb)?bb.length:bb.childNodes.length}function aU(bc,bd){var bb=bc.cloneNode(false);bc.deleteData(bd,bc.length);bb.deleteData(0,bd);x.insertAfter(bb,bc)}function e(bd,bb){for(var bc in bb){var be=bd[bc];if(bc=="float"){be=bd[a.support.cssFloat?"cssFloat":"styleFloat"]}if(typeof be=="object"){if(!e(be,bb[bc])){return false}}else{if(be!=bb[bc]){return false}}}return true}var a9=/^\s+$/;var aM=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i;var t=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(",");var x={blockParentOrBody:function(bb){return x.parentOfType(bb,g)||bb.ownerDocument.body},normalize:aB,toHex:function(bb){var bc=aM.exec(bb);if(!bc){return bb}return"#"+a.map(bc.slice(1),function(bd){return bd=parseInt(bd).toString(16),bd.length>1?bd:"0"+bd}).join("")},encode:function(bb){return bb.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g,"&nbsp;")},name:function(bb){return bb.nodeName.toLowerCase()},significantChildNodes:function(bb){return a.grep(bb.childNodes,function(bc){return bc.nodeType!=3||!x.isWhitespace(bc)})},lastTextNode:function(bc){if(bc.nodeType==3){return bc}var bd=null;for(var bb=bc.lastChild;bb;bb=bb.previousSibling){if(bd=x.lastTextNode(bb)){return bd}}return bd},is:function(bb,bc){return x.name(bb)==bc},isMarker:function(bb){return bb.className=="t-marker"},isWhitespace:function(bb){return a9.test(bb.nodeValue)},isBlock:function(bb){return f[x.name(bb)]},isEmpty:function(bb){return z[x.name(bb)]},isInline:function(bb){return ac[x.name(bb)]},scrollTo:function(bb){bb.ownerDocument.body.scrollTop=a(am(bb)?bb.parentNode:bb).offset().top},insertAt:function(bc,bb,bd){bc.insertBefore(bb,bc.childNodes[bd]||null)},insertBefore:function(bb,bc){if(bc.parentNode){return bc.parentNode.insertBefore(bb,bc)}else{return bc}},insertAfter:function(bb,bc){return bc.parentNode.insertBefore(bb,bc.nextSibling)},remove:function(bb){bb.parentNode.removeChild(bb)},trim:function(bd){for(var bb=bd.childNodes.length-1;bb>=0;bb--){var bc=bd.childNodes[bb];if(am(bc)){if(bc.nodeValue.replace(/\ufeff/g,"").length==0){x.remove(bc)}if(x.isWhitespace(bc)){x.insertBefore(bc,bd)}}else{if(bc.className!="t-marker"){x.trim(bc);if(bc.childNodes.length==0&&!x.isEmpty(bc)){x.remove(bc)}}}}return bd},parentOfType:function(bb,bc){do{bb=bb.parentNode}while(bb&&!(x.ofType(bb,bc)));return bb},ofType:function(bb,bc){return a.inArray(x.name(bb),bc)>=0},changeTag:function(bg,bh){var bf=x.create(bg.ownerDocument,bh);var bc=bg.attributes;for(var bd=0;bd<bc.length;bd++){var bb=bc[bd];if(bb.specified){var be=bb.nodeName;var bi=bb.nodeValue;if(be=="class"){bf.className=bi}else{if(be=="style"){bf.style.cssText=bg.style.cssText}else{bf.setAttribute(be,bi)}}}}while(bg.firstChild){bf.appendChild(bg.firstChild)}x.insertBefore(bf,bg);x.remove(bg);return bf},wrap:function(bb,bc){x.insertBefore(bc,bb);bc.appendChild(bb);return bc},unwrap:function(bb){var bc=bb.parentNode;while(bb.firstChild){bc.insertBefore(bb.firstChild,bb)}bc.removeChild(bb)},create:function(bc,bd,bb){return x.attr(bc.createElement(bd),bb)},attr:function(bc,bb){bb=a.extend({},bb);if(bb&&"style" in bb){x.style(bc,bb.style);delete bb.style}return a.extend(bc,bb)},style:function(bb,bc){a(bb).css(bc||{})},unstyle:function(bc,bd){for(var bb in bd){if(bb=="float"){bb=a.support.cssFloat?"cssFloat":"styleFloat"}bc.style[bb]=""}if(bc.style.cssText==""){bc.removeAttribute("style")}},inlineStyle:function(bd,be,bc){var bf=x.create(bd,be,bc);bd.body.appendChild(bf);var bb=a(bf);var bg=a.map(t,function(bh){if(a.browser.msie&&bh=="line-height"&&bb.css(bh)=="1px"){return"line-height:1.5"}else{return bh+":"+bb.css(bh)}}).join(";");bb.remove();return bg},removeClass:function(bf,bd){var bc=" "+bf.className+" ",bb=bd.split(" ");for(var be=0;be<bb.length;be++){bc=bc.replace(" "+bb[be]+" "," ")}bc=a.trim(bc);if(bc.length){bf.className=bc}else{bf.removeAttribute("class")}},commonAncestor:function(){var bc=arguments.length;if(!bc){return null}if(bc==1){return arguments[0]}var bj=[];var bg=Infinity;for(var be=0;be<bc;be++){var bb=[];var bh=arguments[be];while(bh){bb.push(bh);bh=bh.parentNode}bj.push(bb.reverse());bg=Math.min(bg,bb.length)}if(bc==1){return bj[0][0]}var bi=null;for(be=0;be<bg;be++){var bd=bj[0][be];for(var bf=1;bf<bc;bf++){if(bd!=bj[bf][be]){return bi}}bi=bd}return bi}};var K="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),aH=/"/g,m=/<br[^>]*>/i,B=/<p><\/p>/i;function y(bf){var be=[];var bg={"telerik:script":{start:function(bh){be.push("<script");bb(bh);be.push(">")},end:function(){be.push("</script>")}},b:{start:function(){be.push("<strong>")},end:function(){be.push("</strong>")}},i:{start:function(){be.push("<em>")},end:function(){be.push("</em>")}},u:{start:function(){be.push('<span style="text-decoration:underline;">')},end:function(){be.push("</span>")}},font:{start:function(bj){be.push('<span style="');var bh=bj.getAttribute("color");var bk=K[bj.getAttribute("size")];var bi=bj.getAttribute("face");if(bh){be.push("color:");be.push(x.toHex(bh));be.push(";")}if(bi){be.push("font-face:");be.push(bi);be.push(";")}if(bk){be.push("font-size:");be.push(bk);be.push(";")}be.push('">')},end:function(bh){be.push("</span>")}}};function bb(bt){var bx=[],bk=bt.attributes,by=a.trim;if(x.is(bt,"img")){var bA=bt.style.width,bo=bt.style.height,bh=a(bt);if(bA){bh.attr("width",parseInt(bA));x.unstyle(bt,{width:undefined})}if(bo){bh.attr("height",parseInt(bo));x.unstyle(bt,{height:undefined})}}for(var bp=0,bq=bk.length;bp<bq;bp++){var bi=bk[bp];var bs=bi.nodeName;if(bi.specified||(bs=="value"&&bt.value!="")||(bs=="type"&&bi.nodeValue=="text")){if(bs.indexOf("_moz")<0&&bs!="complete"){bx.push(bi)}}}if(!bx.length){return}bx.sort(function(bB,bC){return bB.nodeName>bC.nodeName?1:bB.nodeName<bC.nodeName?-1:0});for(var bp=0,bq=bx.length;bp<bq;bp++){var bi=bx[bp];var bj=bi.nodeName;var bl=bi.nodeValue;be.push(" ");be.push(bj);be.push('="');if(bj=="style"){var bm=by(bl||bt.style.cssText).split(";");for(var bn=0,br=bm.length;bn<br;bn++){var bu=bm[bn];if(bu.length){var bw=bu.split(":");var bv=by(bw[0].toLowerCase()),bz=by(bw[1]);if(bv=="font-size-adjust"||bv=="font-stretch"){continue}if(bv.indexOf("color")>=0){bz=x.toHex(bz)}if(bv.indexOf("font")>=0){bz=bz.replace(aH,"'")}be.push(bv);be.push(":");be.push(bz);be.push(";")}}}else{if(bj=="src"||bj=="href"){be.push(bt.getAttribute(bj,2))}else{be.push(E[bj]?bj:bl)}}be.push('"')}}function bd(bi,bj){for(var bh=bi.firstChild;bh;bh=bh.nextSibling){bc(bh,bj)}}function bc(bi,bm){var bj=bi.nodeType;if(bj==1){var bn=x.name(bi);if(bn==""||(bi.attributes._moz_dirty&&x.is(bi,"br"))){return}var bh=bg[bn];if(bh){bh.start(bi);bd(bi);bh.end(bi);return}be.push("<");be.push(bn);bb(bi);if(z[bn]){be.push(" />")}else{be.push(">");bd(bi,bm||x.is(bi,"pre"));be.push("</");be.push(bn);be.push(">")}}else{if(bj==3){var bo=bi.nodeValue;if(!bm&&a.support.leadingWhitespace){var bk=bi.parentNode;var bl=bi.previousSibling;if(!bl){bl=(x.isInline(bk)?bk:bi).previousSibling}if(!bl||bl.innerHTML==""||x.isBlock(bl)){bo=bo.replace(/^[\r\n\v\f\t ]+/,"")}bo=bo.replace(/ +/," ")}be.push(x.encode(bo))}else{if(bj==4){be.push("<![CDATA[");be.push(bi.data);be.push("]]>")}else{if(bj==8){if(bi.data.indexOf("[CDATA[")<0){be.push("<!--");be.push(bi.data);be.push("-->")}else{be.push("<!");be.push(bi.data);be.push(">")}}}}}}bd(bf);be=be.join("");if(be.replace(m,"").replace(B,"")==""){return""}return be}var aW=0,aV=1,C=2,D=3;function w(bb){var bc=bb.startContainer;return bc.nodeType==9?bc:bc.ownerDocument}function aQ(bb){if(a.browser.msie&&a.browser.version<9){return new a8(bb.document)}return bb.getSelection()}function aP(bc){var bb=w(bc);return aO(bb)}function aO(bb){return aQ(ba(bb))}function ba(bb){return bb.defaultView||bb.parentWindow}function aT(bd,bb,be){function bc(bh){var bg=bd.cloneRange();bg.collapse(bh);bg[bh?"setStartBefore":"setEndAfter"](bb);var bf=bg.extractContents();if(be){bf=x.trim(bf)}x[bh?"insertBefore":"insertAfter"](bf,bb)}bc(true);bc(false)}function aR(bc){var bb=aK.image(bc);if(bb){bc.setStartAfter(bb);bc.setEndAfter(bb)}var bd=aP(bc);bd.removeAllRanges();bd.addRange(bc)}function a7(bb){a.extend(this,{ownerDocument:bb,startContainer:bb,endContainer:bb,commonAncestorContainer:bb,startOffset:0,endOffset:0,collapsed:true})}a7.prototype={setStart:function(bb,bc){this.startContainer=bb;this.startOffset=bc;a6(this);I(this,true)},setEnd:function(bb,bc){this.endContainer=bb;this.endOffset=bc;a6(this);I(this,false)},setStartBefore:function(bb){this.setStart(bb.parentNode,G(bb))},setStartAfter:function(bb){this.setStart(bb.parentNode,G(bb)+1)},setEndBefore:function(bb){this.setEnd(bb.parentNode,G(bb))},setEndAfter:function(bb){this.setEnd(bb.parentNode,G(bb)+1)},selectNode:function(bb){this.setStartBefore(bb);this.setEndAfter(bb)},selectNodeContents:function(bb){this.setStart(bb,0);this.setEnd(bb,bb[bb.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(bb){if(bb){this.setEnd(this.startContainer,this.startOffset)}else{this.setStart(this.endContainer,this.endOffset)}},deleteContents:function(){var bc=this.cloneRange();if(this.startContainer!=this.commonAncestorContainer){this.setStartAfter(F(this.commonAncestorContainer,this.startContainer))}this.collapse(true);(function bb(bd){while(bd.next()){bd.hasPartialSubtree()?bb(bd.getSubtreeIterator()):bd.remove()}})(new aJ(bc))},cloneContents:function(){var bc=w(this);return(function bb(be){for(var bf,bd=bc.createDocumentFragment();bf=be.next();){bf=bf.cloneNode(!be.hasPartialSubtree());if(be.hasPartialSubtree()){bf.appendChild(bb(be.getSubtreeIterator()))}bd.appendChild(bf)}return bd})(new aJ(this))},extractContents:function(){var bd=this.cloneRange();if(this.startContainer!=this.commonAncestorContainer){this.setStartAfter(F(this.commonAncestorContainer,this.startContainer))}this.collapse(true);var be=this;var bb=w(this);return(function bc(bg){for(var bh,bf=bb.createDocumentFragment();bh=bg.next();){bg.hasPartialSubtree()?bh=bh.cloneNode(false):bg.remove(be.originalRange);if(bg.hasPartialSubtree()){bh.appendChild(bc(bg.getSubtreeIterator()))}bf.appendChild(bh)}return bf})(new aJ(bd))},insertNode:function(bb){if(am(this.startContainer)){if(this.startOffset!=this.startContainer.nodeValue.length){aU(this.startContainer,this.startOffset)}x.insertAfter(bb,this.startContainer)}else{x.insertAt(this.startContainer,bb,this.startOffset)}this.setStart(this.startContainer,this.startOffset)},cloneRange:function(){return a.extend(new a7(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var bc=this.startContainer.nodeName,bb=this.endContainer.nodeName;return[bc=="#text"?this.startContainer.nodeValue:bc,"(",this.startOffset,") : ",bb=="#text"?this.endContainer.nodeValue:bb,"(",this.endOffset,")"].join("")}};function q(bg,bc,bi,be){if(bg==bc){return be-bi}var bb=bc;while(bb&&bb.parentNode!=bg){bb=bb.parentNode}if(bb){return G(bb)-bi}bb=bg;while(bb&&bb.parentNode!=bc){bb=bb.parentNode}if(bb){return be-G(bb)-1}var bf=x.commonAncestor(bg,bc);var bh=bg;while(bh&&bh.parentNode!=bf){bh=bh.parentNode}if(!bh){bh=bf}var bd=bc;while(bd&&bd.parentNode!=bf){bd=bd.parentNode}if(!bd){bd=bf}if(bh==bd){return 0}return G(bd)-G(bh)}function I(bc,bd){function bb(bf){try{return q(bf.startContainer,bf.endContainer,bf.startOffset,bf.endOffset)<0}catch(be){return true}}if(bb(bc)){if(bd){bc.commonAncestorContainer=bc.endContainer=bc.startContainer;bc.endOffset=bc.startOffset}else{bc.commonAncestorContainer=bc.startContainer=bc.endContainer;bc.startOffset=bc.endOffset}bc.collapsed=true}}function a6(bc){bc.collapsed=bc.startContainer==bc.endContainer&&bc.startOffset==bc.endOffset;var bb=bc.startContainer;while(bb&&bb!=bc.endContainer&&!ak(bb,bc.endContainer)){bb=bb.parentNode}bc.commonAncestorContainer=bb}function s(bb){if(a.browser.msie&&a.browser.version<9){return new a7(bb)}return bb.createRange()}function aJ(bb){a.extend(this,{range:bb,_current:null,_next:null,_end:null});if(bb.collapsed){return}var bc=bb.commonAncestorContainer;this._next=bb.startContainer==bc&&!am(bb.startContainer)?bb.startContainer.childNodes[bb.startOffset]:F(bc,bb.startContainer);this._end=bb.endContainer==bc&&!am(bb.endContainer)?bb.endContainer.childNodes[bb.endOffset]:F(bc,bb.endContainer).nextSibling}aJ.prototype={hasNext:function(){return !!this._next},next:function(){var bb=this._current=this._next;this._next=this._current&&this._current.nextSibling!=this._end?this._current.nextSibling:null;if(am(this._current)){if(this.range.endContainer==this._current){(bb=bb.cloneNode(true)).deleteData(this.range.endOffset,bb.length-this.range.endOffset)}if(this.range.startContainer==this._current){(bb=bb.cloneNode(true)).deleteData(0,this.range.startOffset)}}return bb},traverse:function(bb){function bd(){this._current=this._next;this._next=this._current&&this._current.nextSibling!=this._end?this._current.nextSibling:null;return this._current}var bc;while(bc=bd.call(this)){if(this.hasPartialSubtree()){this.getSubtreeIterator().traverse(bb)}else{bb(bc)}}return bc},remove:function(bg){var be=this.range.startContainer==this._current;var bd=this.range.endContainer==this._current;if(am(this._current)&&(be||bd)){var bi=be?this.range.startOffset:0;var bc=bd?this.range.endOffset:this._current.length;var bb=bc-bi;if(bg&&(be||bd)){if(this._current==bg.startContainer&&bi<=bg.startOffset){bg.startOffset-=bb}if(this._current==bg.endContainer&&bc<=bg.endOffset){bg.endOffset-=bb}}this._current.deleteData(bi,bb)}else{var bh=this._current.parentNode;if(bg&&(this.range.startContainer==bh||this.range.endContainer==bh)){var bf=G(this._current);if(bh==bg.startContainer&&bf<=bg.startOffset){bg.startOffset-=1}if(bh==bg.endContainer&&bf<bg.endOffset){bg.endOffset-=1}}x.remove(this._current)}},hasPartialSubtree:function(){return !am(this._current)&&(al(this._current,this.range.startContainer)||al(this._current,this.range.endContainer))},getSubtreeIterator:function(){var bb=this.range.cloneRange();bb.selectNodeContents(this._current);if(al(this._current,this.range.startContainer)){bb.setStart(this.range.startContainer,this.range.startOffset)}if(al(this._current,this.range.endContainer)){bb.setEnd(this.range.endContainer,this.range.endOffset)}return new aJ(bb)}};function a8(bb){this.ownerDocument=bb;this.rangeCount=1}a8.prototype={addRange:function(bb){var bc=this.ownerDocument.body.createTextRange();c(bc,bb,false);c(bc,bb,true);bc.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var bk,bh=new a7(this.ownerDocument),bi=this.ownerDocument.selection,bc;try{bk=bi.createRange();bc=bk.item?bk.item(0):bk.parentElement();if(bc.ownerDocument!=this.ownerDocument){return bh}}catch(be){return bh}if(bi.type=="Control"){bh.selectNode(bk.item(0))}else{d(bk,bh,true);d(bk,bh,false);if(bh.startContainer.nodeType==9){bh.setStart(bh.endContainer,bh.startOffset)}if(bh.endContainer.nodeType==9){bh.setEnd(bh.startContainer,bh.endOffset)}if(bk.compareEndPoints("StartToEnd",bk)==0){bh.collapse(false)}var bj=bh.startContainer,bd=bh.endContainer,bb=this.ownerDocument.body;if(!bh.collapsed&&bh.startOffset==0&&bh.endOffset==T(bh.endContainer)&&!(bj==bd&&am(bj)&&bj.parentNode==bb)){var bg=false,bf=false;while(G(bj)==0&&bj==bj.parentNode.firstChild&&bj!=bb){bj=bj.parentNode;bg=true}while(G(bd)==T(bd.parentNode)-1&&bd==bd.parentNode.lastChild&&bd!=bb){bd=bd.parentNode;bf=true}if(bj==bb&&bd==bb&&bg&&bf){bh.setStart(bj,0);bh.setEnd(bd,T(bb))}}}return bh}};function c(bk,bh,bi){var bd=bh[bi?"startContainer":"endContainer"];var bg=bh[bi?"startOffset":"endOffset"],bj=0;var bb=am(bd)?bd:bd.childNodes[bg]||null;var bc=am(bd)?bd.parentNode:bd;if(bd.nodeType==3||bd.nodeType==4){bj=bg}var bf=bc.insertBefore(x.create(bh.ownerDocument,"a"),bb);var be=bh.ownerDocument.body.createTextRange();be.moveToElementText(bf);x.remove(bf);be[bi?"moveStart":"moveEnd"]("character",bj);be.collapse(false);bk.setEndPoint(bi?"StartToStart":"EndToStart",be)}function d(bh,be,bf){var bc=x.create(be.ownerDocument,"a"),bb=bh.duplicate();bb.collapse(bf);var bd=bb.parentElement();do{bd.insertBefore(bc,bc.previousSibling);bb.moveToElementText(bc)}while(bb.compareEndPoints(bf?"StartToStart":"StartToEnd",bh)>0&&bc.previousSibling);bb.setEndPoint(bf?"EndToStart":"EndToEnd",bh);var bg=bc.nextSibling;if(!bg){bg=bc.previousSibling;if(bg&&am(bg)){be.setEnd(bg,bg.nodeValue.length);x.remove(bc)}else{be.selectNodeContents(bd);x.remove(bc);be.endOffset-=1}return}x.remove(bc);if(am(bg)){be[bf?"setStart":"setEnd"](bg,bb.text.length)}else{be[bf?"setStartBefore":"setEndBefore"](bg)}}function aI(bb){this.enumerate=function(){var bc=[];function bd(be){if(x.is(be,"img")||(be.nodeType==3&&!x.isWhitespace(be))){bc.push(be)}else{be=be.firstChild;while(be){bd(be);be=be.nextSibling}}}new aJ(bb).traverse(bd);return bc}}function a0(bb){return new aI(bb).enumerate()}function k(bf){var bc=[];for(var bd=0,be=bf.length;bd<be;bd++){var bb=x.parentOfType(bf[bd],g);if(bb&&a.inArray(bb,bc)<0){bc.push(bb)}}return bc}function S(bc){var bb=[];new aJ(bc).traverse(function(bd){if(bd.className=="t-marker"){bb.push(bd)}});return bb}function aL(be){var bf=w(be);this.body=bf.body;this.html=this.body.innerHTML;function bb(bi){var bk=0,bh=bi.nodeType;while(bi=bi.previousSibling){var bj=bi.nodeType;if(bj!=3||bh!=bj){bk++}bh=bj}return bk}function bd(bh,bi){if(bh.nodeType==3){while((bh=bh.previousSibling)&&bh.nodeType==3){bi+=bh.nodeValue.length}}return bi}function bc(bh){var bi=[];while(bh!=bf){bi.push(bb(bh));bh=bh.parentNode}return bi}function bg(bm,bn,bl,bh){var bj=bf,bi=bl.length,bk=bh;while(bi--){bj=bj.childNodes[bl[bi]]}while(bj.nodeType==3&&bj.nodeValue.length<bk){bk-=bj.nodeValue.length;bj=bj.nextSibling}bm[bn?"setStart":"setEnd"](bj,bk)}this.startContainer=bc(be.startContainer);this.endContainer=bc(be.endContainer);this.startOffset=bd(be.startContainer,be.startOffset);this.endOffset=bd(be.endContainer,be.endOffset);this.toRange=function(){var bh=be.cloneRange();bg(bh,true,this.startContainer,this.startOffset);bg(bh,false,this.endContainer,this.endOffset);return bh}}function ay(){var bb;this.addCaret=function(bc){bb=x.create(w(bc),"span",{className:"t-marker"});bc.insertNode(bb);bc.selectNode(bb);return bb};this.removeCaret=function(bg){var bf=bb.previousSibling;var bh=0;if(bf){bh=am(bf)?bf.nodeValue.length:G(bf)}var bc=bb.parentNode;var bd=bf?G(bf):0;x.remove(bb);aB(bc);var be=bc.childNodes[bd];if(am(be)){bg.setStart(be,bh)}else{if(be){var bi=x.lastTextNode(be);if(bi){bg.setStart(bi,bi.nodeValue.length)}else{bg[bf?"setStartAfter":"setStartBefore"](be)}}else{if(!a.browser.msie&&bc.innerHTML==""){bc.innerHTML='<br _moz_dirty="" />'}bg.selectNodeContents(bc)}}bg.collapse(true)};this.add=function(bd,bc){if(bc&&bd.collapsed){this.addCaret(bd);bd=aK.expand(bd)}var be=bd.cloneRange();be.collapse(false);this.end=x.create(w(bd),"span",{className:"t-marker"});be.insertNode(this.end);be=bd.cloneRange();be.collapse(true);this.start=this.end.cloneNode(true);be.insertNode(this.start);bd.setStartBefore(this.start);bd.setEndAfter(this.end);aB(bd.commonAncestorContainer);return bd};this.remove=function(bj){var bm=this.start,be=this.end;aB(bj.commonAncestorContainer);while(!bm.nextSibling&&bm.parentNode){bm=bm.parentNode}while(!be.previousSibling&&be.parentNode){be=be.parentNode}var bl=(bm.previousSibling&&bm.previousSibling.nodeType==3)&&(bm.nextSibling&&bm.nextSibling.nodeType==3);var bk=(be.previousSibling&&be.previousSibling.nodeType==3)&&(be.nextSibling&&be.nextSibling.nodeType==3);bm=bm.nextSibling;be=be.previousSibling;var bc=false;var bd=false;if(bm==this.end){bd=!!this.start.previousSibling;bm=be=this.start.previousSibling||this.end.nextSibling;bc=true}x.remove(this.start);x.remove(this.end);if(bm==null||be==null){bj.selectNodeContents(bj.commonAncestorContainer);bj.collapse(true);return}var bo=bc?am(bm)?bm.nodeValue.length:bm.childNodes.length:0;var bg=am(be)?be.nodeValue.length:be.childNodes.length;if(bm.nodeType==3){while(bm.previousSibling&&bm.previousSibling.nodeType==3){bm=bm.previousSibling;bo+=bm.nodeValue.length}}if(be.nodeType==3){while(be.previousSibling&&be.previousSibling.nodeType==3){be=be.previousSibling;bg+=be.nodeValue.length}}var bn=G(bm),bp=bm.parentNode;var bf=G(be),bh=be.parentNode;for(var bq=bm;bq.previousSibling;bq=bq.previousSibling){if(bq.nodeType==3&&bq.previousSibling.nodeType==3){bn--}}for(var bi=be;bi.previousSibling;bi=bi.previousSibling){if(bi.nodeType==3&&bi.previousSibling.nodeType==3){bf--}}aB(bp);if(bm.nodeType==3){bm=bp.childNodes[bn]}aB(bh);if(be.nodeType==3){be=bh.childNodes[bf]}if(bc){if(bm.nodeType==3){bj.setStart(bm,bo)}else{bj[bd?"setStartAfter":"setStartBefore"](bm)}bj.collapse(true)}else{if(bm.nodeType==3){bj.setStart(bm,bo)}else{bj.setStartBefore(bm)}if(be.nodeType==3){bj.setEnd(be,bg)}else{bj.setEndAfter(be)}}if(bb){this.removeCaret(bj)}}}var l=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var aK={nodes:function(bc){var bb=a0(bc);if(!bb.length){bc.selectNodeContents(bc.commonAncestorContainer);bb=a0(bc);if(!bb.length){bb=x.significantChildNodes(bc.commonAncestorContainer)}}return bb},image:function(bc){var bb=[];new aJ(bc).traverse(function(bd){if(x.is(bd,"img")){bb.push(bd)}});if(bb.length==1){return bb[0]}},expand:function(bf){var bg=bf.cloneRange();var bh=bg.startContainer.childNodes[bg.startOffset==0?0:bg.startOffset-1];var bd=bg.endContainer.childNodes[bg.endOffset];if(!am(bh)||!am(bd)){return bg}var bc=bh.nodeValue;var bb=bd.nodeValue;if(bc==""||bb==""){return bg}var bi=bc.split("").reverse().join("").search(l);var be=bb.search(l);if(bi==0||be==0){return bg}be=be==-1?bb.length:be;bi=bi==-1?0:bc.length-bi;bg.setStart(bh,bi);bg.setEnd(bd,be);return bg},isExpandable:function(bg){var bf=bg.startContainer;var bd=w(bg);if(bf==bd||bf==bd.body){return false}var bh=bg.cloneRange();var bj=bf.nodeValue;if(!bj){return false}var bc=bj.substring(0,bh.startOffset);var bb=bj.substring(bh.startOffset);var bi=0,be=0;if(bc!=""){bi=bc.split("").reverse().join("").search(l)}if(bb!=""){be=bb.search(l)}return bi!=0&&be!=0}};function p(bc){var bd=new aL(bc.range);var bb=new ay();this.formatter=bc.formatter;this.getRange=function(){return bd.toRange()};this.lockRange=function(be){return bb.add(this.getRange(),be)};this.releaseRange=function(be){bb.remove(be);aR(be)};this.undo=function(){bd.body.innerHTML=bd.html;aR(bd.toRange())};this.redo=function(){this.exec()};this.exec=function(){var be=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(be);this.releaseRange(be)}}function R(bd,bc){var bb=bd.body;this.redo=function(){bb.innerHTML=bc.html;aR(bc.toRange())};this.undo=function(){bb.innerHTML=bd.html;aR(bd.toRange())}}function ai(bb){p.call(this,bb);this.managesUndoRedo=true;this.exec=function(){var bc=this.editor;var bd=bc.getRange();var be=new aL(bd);bc.clipboard.paste(bb.value||"");bc.undoRedoStack.push(new R(be,new aL(bc.getRange())));bc.focus()}}function aj(){a1.call(this);var bb,bc="";this.command=function(bd){return new ai(bd)};this.update=function(bd,bf){var be=bd.data("tSelectBox");be.close();be.value(bc)};this.init=function(bd,be){bb=be.editor;bc=bb.localization.insertHtml;bd.tSelectBox({data:bb.insertHtml||[],title:bc,onItemCreate:function(bf){bf.html='<span unselectable="on">'+bf.dataItem.Text+"</span>"},onChange:function(bf){a1.exec(bb,"insertHtml",bf.value)},highlightFirst:false}).find(".t-input").html(bb.localization.insertHtml)}}function a3(){var bc=[],bb=-1;this.push=function(bd){bc=bc.slice(0,bb+1);bb=bc.push(bd)-1};this.undo=function(){if(this.canUndo()){bc[bb--].undo()}};this.redo=function(){if(this.canRedo()){bc[++bb].redo()}};this.canUndo=function(){return bb>=0};this.canRedo=function(){return bb!=bc.length-1}}function a2(bb){this.keydown=function(bc){var be=bb.keyboard;var bd=be.isTypingKey(bc);if(bd&&!be.typingInProgress()){var bf=bb.getRange();this.startRestorePoint=new aL(bf);be.startTyping(a.proxy(function(){bb.selectionRestorePoint=this.endRestorePoint=new aL(bb.getRange());bb.undoRedoStack.push(new R(this.startRestorePoint,this.endRestorePoint))},this));return true}return false};this.keyup=function(bc){var bd=bb.keyboard;if(bd.typingInProgress()){bd.endTyping();return true}return false}}function aZ(bb){var bc=false;this.createUndoCommand=function(){this.endRestorePoint=new aL(bb.getRange());bb.undoRedoStack.push(new R(this.startRestorePoint,this.endRestorePoint));this.startRestorePoint=this.endRestorePoint};this.changed=function(){if(this.startRestorePoint){return this.startRestorePoint.html!=bb.body.innerHTML}return false};this.keydown=function(bd){var be=bb.keyboard;if(be.isModifierKey(bd)){if(be.typingInProgress()){be.endTyping(true)}this.startRestorePoint=new aL(bb.getRange());return true}if(be.isSystem(bd)){bc=true;if(this.changed()){bc=false;this.createUndoCommand()}return true}return false};this.keyup=function(bd){if(bc&&this.changed()){bc=false;this.createUndoCommand(bd);return true}return false}}function an(bb){var bh=false;var bg;var be;function bc(bi){return(bi>=48&&bi<=90)||(bi>=96&&bi<=111)||(bi>=186&&bi<=192)||(bi>=219&&bi<=222)}this.toolFromShortcut=function(bm,bi){var bj=String.fromCharCode(bi.keyCode);for(var bl in bm){var bk=bm[bl];if((bk.key==bj||bk.key==bi.keyCode)&&!!bk.ctrl==bi.ctrlKey&&!!bk.alt==bi.altKey&&!!bk.shift==bi.shiftKey){return bl}}};this.isTypingKey=function(bi){var bj=bi.keyCode;return(bc(bj)&&!bi.ctrlKey&&!bi.altKey)||bj==32||bj==13||bj==8||(bj==46&&!bi.shiftKey&&!bi.ctrlKey&&!bi.altKey)};this.isModifierKey=function(bi){var bj=bi.keyCode;return(bj==17&&!bi.shiftKey&&!bi.altKey)||(bj==16&&!bi.ctrlKey&&!bi.altKey)||(bj==18&&!bi.ctrlKey&&!bi.shiftKey)};this.isSystem=function(bi){return bi.keyCode==46&&bi.ctrlKey&&!bi.altKey&&!bi.shiftKey};this.startTyping=function(bi){be=bi;bh=true};function bf(){bh=false;if(be){be()}}this.endTyping=function(bi){this.clearTimeout();if(bi){bf()}else{bg=window.setTimeout(bf,1000)}};this.typingInProgress=function(){return bh};this.clearTimeout=function(){window.clearTimeout(bg)};function bd(bi,bk){for(var bj=0;bj<bb.length;bj++){if(bb[bj][bk](bi)){break}}}this.keydown=function(bi){bd(bi,"keydown")};this.keyup=function(bi){bd(bi,"keyup")}}function n(bc){var bb=[new az(),new u(),new aS()];function bd(bi){var bg=x.create(bc.document,"div");bg.innerHTML=bi;var bh=bc.document.createDocumentFragment();while(bg.firstChild){bh.appendChild(bg.firstChild)}return bh}function be(bg){return/<(div|p|ul|ol|table|h[1-6])/i.test(bg)}this.oncut=function(bg){var bh=new aL(bc.getRange());setTimeout(function(){bc.undoRedoStack.push(new R(bh,new aL(bc.getRange())))})};this.onpaste=function(bi){var bk=bc.getRange();var bl=new aL(bk);var bg=x.create(bc.document,"div",{className:"t-paste-container",innerHTML:"\ufeff"});bc.body.appendChild(bg);if(bc.body.createTextRange){bi.preventDefault();var bj=bc.createRange();bj.selectNodeContents(bg);bc.selectRange(bj);var bm=bc.body.createTextRange();bm.moveToElementText(bg);a(bc.body).unbind("paste");bm.execCommand("Paste");a(bc.body).bind("paste",arguments.callee)}else{var bh=bc.createRange();bh.selectNodeContents(bg);aR(bh)}setTimeout(function(){aR(bk);x.remove(bg);if(bg.lastChild&&x.is(bg.lastChild,"br")){x.remove(bg.lastChild)}var bn={html:bg.innerHTML};b.trigger(bc.element,"paste",bn);bc.clipboard.paste(bn.html,true);bc.undoRedoStack.push(new R(bl,new aL(bc.getRange())));aN(bc)})};function bf(bg,bi){if(bg){return x.parentOfType(bi,["p","ul","ol"])||bi.parentNode}var bj=bi.parentNode;var bh=bi.ownerDocument.body;if(x.isInline(bj)){while(bj.parentNode!=bh&&!x.isBlock(bj.parentNode)){bj=bj.parentNode}}return bj}this.paste=function(bl,bi){var bm,bn;for(bm=0,bn=bb.length;bm<bn;bm++){if(bb[bm].applicable(bl)){bl=bb[bm].clean(bl)}}if(bi){bl=bl.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");bl=bl.replace(/<(a|span)[^>]*><\/\1>/ig,"")}bl=bl.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var bg=be(bl);var bq=bc.getRange();bq.deleteContents();if(bq.startContainer==bc.document){bq.selectNodeContents(bc.body)}var bo=new ay();var bh=bo.addCaret(bq);var bp=bf(bg,bh);var br=false;if(!/body|td/.test(x.name(bp))&&(bg||x.isInline(bp))){bq.selectNode(bh);aT(bq,bp,true);br=true}var bj=bd(bl);if(bj.firstChild&&bj.firstChild.className==="t-paste-container"){var bk=[];for(bm=0,bn=bj.childNodes.length;bm<bn;bm++){bk.push(bj.childNodes[bm].innerHTML)}bj=bd(bk.join("<br />"))}bq.insertNode(bj);bp=bf(bg,bh);if(br){while(bh.parentNode!=bp){x.unwrap(bh.parentNode)}x.unwrap(bh.parentNode)}aB(bq.commonAncestorContainer);bh.style.display="inline";x.scrollTo(bh);bo.removeCaret(bq);aR(bq)}}function u(){this.applicable=function(bb){return/<(b|i|u|)>/i.test(bb)};this.clean=function(bb){return bb.replace(/<(\/?)b>/gi,"<$1strong>").replace(/<(\/?)>/gi,"<$1em>").replace(/<u>/gi,'<span style="text-decoration: underline">').replace(/<\/u>/gi,"</span>")}}function aS(){this.applicable=function(bb){return/<span/i.test(bb)};this.clean=function(bc){var bf=x.create(document,"div",{innerHTML:bc}),bg=a("span",bf),bb,be;for(var bd=bg.length-1;bd>=0;bd--){bb=bg[bd];be=bb.parentNode;if(x.is(be,"span")&&be.childNodes.length==1){be.style.cssText=a.trim(be.style.cssText+bb.style.cssText);while(bb.firstChild){be.appendChild(bb.firstChild)}be.removeChild(bb)}}return bf.innerHTML}}function az(){var bd=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(&nbsp;)+\s+/ig," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/style=(["|'])\s*\1/g,""];this.applicable=function(bf){return/class="?Mso|style="[^"]*mso-/i.test(bf)};function bc(bf){if(/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(bf)){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(bf)){return"ol"}}function bb(bh){var br=x.create(document,"div",{innerHTML:bh});var bf=a(g.join(","),br);var bk=-1,bl,bm={ul:{},ol:{}},bn=br;for(var bi=0;bi<bf.length;bi++){var bq=bf[bi];var bh=bq.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");var bs=bc(bh);if(!bs||x.name(bq)!="p"){if(bq.innerHTML==""){x.remove(bq)}else{bm={ul:{},ol:{}};bn=br;bk=-1}continue}var bp=parseFloat(bq.style.marginLeft||0);var bo=bm[bs][bp];if(bp>bk||!bo){bo=x.create(document,bs);if(bn==br){x.insertBefore(bo,bq)}else{bn.appendChild(bo)}bm[bs][bp]=bo}if(bl!=bs){for(var bj in bm){for(var bg in bm[bj]){if(a.contains(bo,bm[bj][bg])){delete bm[bj][bg]}}}}x.remove(bq.firstChild);bn=x.create(document,"li",{innerHTML:bq.innerHTML});bo.appendChild(bn);x.remove(bq);bk=bp;bl=bs}return br.innerHTML}function be(bf){return bf.replace(/<a([^>]*)>\s*<\/a>/ig,function(bg,bh){if(!bh||bh.indexOf("href")<0){return""}return bg})}this.clean=function(bf){for(var bg=0,bh=bd.length;bg<bh;bg+=2){bf=bf.replace(bd[bg],bd[bg+1])}bf=be(bf);bf=bb(bf);bf=bf.replace(/\s+class="?[^"\s>]*"?/ig,"");return bf}}function ae(bb){function bc(bh){var bi=0,bd=0,be=0,bg=bh.parentNode;for(var bf=bg.firstChild;bf;bf=bf.nextSibling){if(bf!=bh){if(bf.className=="t-marker"){be++}else{if(bf.nodeType==3){bi++}else{bd++}}}}if(be>1&&bg.firstChild.className=="t-marker"&&bg.lastChild.className=="t-marker"){return 0}else{return bd+bi}}this.findSuitable=function(be,bd){if(!bd&&bc(be)>0){return null}return x.parentOfType(be,bb[0].tags)};this.findFormat=function(bg){for(var be=0;be<bb.length;be++){var bf=bg;var bh=bb[be].tags;var bd=bb[be].attr;if(bf&&x.ofType(bf,bh)&&e(bf,bd)){return bf}while(bf){bf=x.parentOfType(bf,bh);if(bf&&e(bf,bd)){return bf}}}return null};this.isFormatted=function(be){for(var bd=0;bd<be.length;bd++){if(this.findFormat(be[bd])){return true}}return false}}function af(bc,be){this.finder=new ae(bc);var bb=a.extend({},bc[0].attr,be);var bd=bc[0].tags[0];function bf(bg){return x.wrap(bg,x.create(bg.ownerDocument,bd,bb))}this.activate=function(bh,bg){if(this.finder.isFormatted(bg)){this.split(bh);this.remove(bg)}else{this.apply(bg)}};this.toggle=function(bh){var bg=a0(bh);if(bg.length>0){this.activate(bh,bg)}};this.apply=function(bl){var bh=[];for(var bi=0,bj=bl.length;bi<bj;bi++){var bk=bl[bi];var bg=this.finder.findSuitable(bk);if(bg){x.attr(bg,bb)}else{bg=bf(bk)}bh.push(bg)}this.consolidate(bh)};this.remove=function(bj){for(var bh=0,bi=bj.length;bh<bi;bh++){var bg=this.finder.findFormat(bj[bh]);if(bg){if(bb&&bb.style){x.unstyle(bg,bb.style);if(!bg.style.cssText){x.unwrap(bg)}}else{x.unwrap(bg)}}}};this.split=function(bk){var bj=a0(bk);if(bj.length>0){for(var bh=0,bi=bj.length;bh<bi;bh++){var bg=this.finder.findFormat(bj[bh]);if(bg){aT(bk,bg,true)}}}};this.consolidate=function(bi){while(bi.length>1){var bh=bi.pop();var bg=bi[bi.length-1];if(bh.previousSibling&&bh.previousSibling.className=="t-marker"){bg.appendChild(bh.previousSibling)}if(bh.tagName==bg.tagName&&bh.previousSibling==bg&&bh.style.cssText==bg.style.cssText){while(bh.firstChild){bg.appendChild(bh.firstChild)}x.remove(bh)}}}}function V(bb,be){ae.call(this,bb);function bd(bo){var bg=bo.attributes,bs=a.trim;if(!bg){return}for(var bk=0,bl=bg.length;bk<bl;bk++){var bf=bg[bk],bn=bf.nodeName,bh=bf.nodeValue;if(bf.specified&&bn=="style"){var bi=bs(bh||bo.style.cssText).split(";");for(var bj=0,bm=bi.length;bj<bm;bj++){var bp=bi[bj];if(bp.length){var br=bp.split(":");var bq=bs(br[0].toLowerCase()),bt=bs(br[1]);if(bq!=be){continue}return bq.indexOf("color")>=0?x.toHex(bt):bt}}}}return}function bc(bi){var bf=a(am(bi)?bi.parentNode:bi);var bj=bf.parents().andSelf();for(var bg=0,bh=bj.length;bg<bh;bg++){var bk=be=="className"?bj[bg].className:bd(bj[bg]);if(bk){return bk}}return"inherit"}this.getFormat=function(bh){var bi=bc(bh[0]);for(var bf=1,bg=bh.length;bf<bg;bf++){if(bi!=bc(bh[bf])){return""}}return bi};this.isFormatted=function(bf){return this.getFormat(bf)!==""}}function W(bb,bd,bc){af.call(this,bb,bd);this.finder=new V(bb,bc);this.activate=function(bg,bf){this.split(bg);if(bc){var be=bc.replace(/-([a-z])/,function(bh,bi){return bi.toUpperCase()});this[bd.style[be]=="inherit"?"remove":"apply"](bf)}else{this.apply(bf)}}}function ah(bb){return bb.collapsed&&!aK.isExpandable(bb)}function ag(bb){Q.call(this,a.extend(bb,{finder:new ae(bb.format),formatter:function(){return new af(bb.format)}}));this.willDelayExecution=ah}function L(bd){a1.call(this,bd);var be=a.browser.msie?"tSelectBox":"tComboBox",bc=[{tags:["span"]}],bb=new V(bc,bd.cssAttr);this.command=function(bf){return new O(a.extend(bf,{formatter:function(){var bg={};bg[bd.domAttr]=bf.value;return new W(bc,{style:bg},bd.cssAttr)}}))};this.willDelayExecution=ah;this.update=function(bf,bi,bk){var bh=bf.data(be);bh.close();var bj=bk.getPending(this.name);var bg=(bj&&bj.params)?bj.params.value:bb.getFormat(bi);bh.value(bg)};this.init=function(bf,bh){var bg=bh.editor;bf[be]({data:bg[bd.name],onChange:function(bi){a1.exec(bg,bd.name,bi.value)},onItemCreate:function(bi){bi.html='<span unselectable="on" style="display:block;">'+bi.dataItem.Text+"</span>"},highlightFirst:false});bf.data(be).value("inherit")}}function o(bc){a1.call(this,bc);var bb=[{tags:ad}];this.update=function(bd){bd.data("tColorPicker").close()};this.command=function(bd){return new O(a.extend(bd,{formatter:function(){var be={};be[bc.domAttr]=bd.value;return new W(bb,{style:be},bc.cssAttr)}}))};this.willDelayExecution=ah;this.init=function(bd,bf){var be=bf.editor;bd.tColorPicker({selectedColor:"#000000",onChange:function(bg){a1.exec(be,bc.name,bg.value)}})}}function aX(){a1.call(this);var bc=[{tags:["span"]}],bb=new V(bc,"className");this.command=function(bd){return new O(a.extend(bd,{formatter:function(){return new W(bc,{className:bd.value})}}))};this.update=function(bd,bf){var be=bd.data("tSelectBox");be.close();be.value(bb.getFormat(bf))};this.init=function(bd,bf){var be=bf.editor;bd.tSelectBox({data:be.style,title:be.localization.style,onItemCreate:function(bg){var bh=x.inlineStyle(be.document,"span",{className:bg.dataItem.Value});bg.html='<span unselectable="on" style="display:block;'+bh+'">'+bg.html+"</span>"},onChange:function(bg){a1.exec(be,"style",bg.value)}})}}function h(bc){function bb(bg,be){for(var bf=0;bf<be.length;bf++){var bd=be[bf];if(bd==null||!al(bg,bd)){return false}}return true}this.findSuitable=function(bf){var bg=[];for(var be=0;be<bf.length;be++){var bd=x.ofType(bf[be],bc[0].tags)?bf[be]:x.parentOfType(bf[be],bc[0].tags);if(!bd){return[]}if(a.inArray(bd,bg)<0){bg.push(bd)}}for(var be=0;be<bg.length;be++){if(bb(bg[be],bg)){return[bg[be]]}}return bg};this.findFormat=function(bg){for(var be=0;be<bc.length;be++){var bf=bg;var bh=bc[be].tags;var bd=bc[be].attr;while(bf){if(x.ofType(bf,bh)&&e(bf,bd)){return bf}bf=bf.parentNode}}return null};this.getFormat=function(bg){var bd=a.proxy(function(bi){return this.findFormat(am(bi)?bi.parentNode:bi)},this),bh=bd(bg[0]);if(!bh){return""}for(var be=1,bf=bg.length;be<bf;be++){if(bh!=bd(bg[be])){return""}}return bh.nodeName.toLowerCase()};this.isFormatted=function(be){for(var bd=0;bd<be.length;bd++){if(!this.findFormat(be[bd])){return false}}return true}}function i(bc,bd){var bb=new h(bc);function be(bm,bh,bk){var bi=bk.length==1?x.blockParentOrBody(bk[0]):x.commonAncestor.apply(null,bk);if(x.isInline(bi)){bi=x.blockParentOrBody(bi)}var bg=x.significantChildNodes(bi);var bl=G(bg[0]);var bn=x.create(bi.ownerDocument,bm,bh);for(var bj=0;bj<bg.length;bj++){var bf=bg[bj];if(x.isBlock(bf)){x.attr(bf,bh);if(bn.childNodes.length){x.insertBefore(bn,bf);bn=bn.cloneNode(false)}bl=G(bf)+1;continue}bn.appendChild(bf)}if(bn.firstChild){x.insertAt(bi,bn,bl)}}this.apply=function(bj){var bg=x.is(bj[0],"img")&&bj.length==1?[bj[0]]:bb.findSuitable(bj);var bh=bg.length?N(x.name(bg[0]),bc):bc[0];if(!bh){bh=bc[0]}var bk=bh.tags[0];var bf=a.extend({},bh.attr,bd);if(bg.length){for(var bi=0;bi<bg.length;bi++){x.attr(bg[bi],bf)}}else{be(bk,bf,bj)}};this.remove=function(bj){for(var bg=0,bh=bj.length;bg<bh;bg++){var bf=bb.findFormat(bj[bg]);if(bf){if(x.ofType(bf,["p","img","li"])){var bi=N(x.name(bf),bc);if(bi.attr.style){x.unstyle(bf,bi.attr.style)}if(bi.attr.className){x.removeClass(bf,bi.attr.className)}}else{x.unwrap(bf)}}}};this.toggle=function(bg){var bf=aK.nodes(bg);if(bb.isFormatted(bf)){this.remove(bf)}else{this.apply(bf)}}}function U(bc,bd){var bb=new h(bc);this.apply=function(bk){var be=k(bk);var bf=bc[0].tags[0];if(be.length){for(var bh=0,bi=be.length;bh<bi;bh++){if(x.is(be[bh],"li")){var bj=be[bh].parentNode;var bg=new au(bj.nodeName.toLowerCase(),bf);var bl=this.editor.createRange();bl.selectNode(be[bh]);bg.toggle(bl)}else{x.changeTag(be[bh],bf)}}}else{new i(bc,bd).apply(bk)}};this.toggle=function(bf){var be=a0(bf);if(!be.length){bf.selectNodeContents(bf.commonAncestorContainer);be=a0(bf);if(!be.length){be=x.significantChildNodes(bf.commonAncestorContainer)}}this.apply(be)}}function O(bb){bb.formatter=bb.formatter();p.call(this,bb)}function j(bb){Q.call(this,a.extend(bb,{finder:new h(bb.format),formatter:function(){return new i(bb.format)}}))}function M(){a1.call(this);var bb=new h([{tags:g}]);this.command=function(bc){return new O(a.extend(bc,{formatter:function(){return new U([{tags:[bc.value]}],{})}}))};this.update=function(bc,be){var bd=bc.data("tSelectBox");bd.close();bd.value(bb.getFormat(be))};this.init=function(bc,be){var bd=be.editor;bc.tSelectBox({data:bd.formatBlock,title:bd.localization.formatBlock,onItemCreate:function(bf){var bg=bf.dataItem.Value;bf.html="<"+bg+' unselectable="on" style="margin: .3em 0;'+x.inlineStyle(bd.document,bg)+'">'+bf.dataItem.Text+"</"+bg+">"},onChange:function(bf){a1.exec(bd,"formatBlock",bf.value)},highlightFirst:false})}}function aF(bb){p.call(this,bb);this.exec=function(){var bo=this.getRange(),be=w(bo),bm,bn,bk,bf=a.browser.msie?"":'<br _moz_dirty="" />',bl,bj,bi,bh,bp,bc="p,h1,h2,h3,h4,h5,h6".split(","),br=x.parentOfType(bo.startContainer,bc),bg=x.parentOfType(bo.endContainer,bc),bq=(br&&!bg)||(!br&&bg);bo.deleteContents();bj=x.create(be,"a");bo.insertNode(bj);aB(bj.parentNode);bi=x.parentOfType(bj,["li"]);bh=x.parentOfType(bj,"h1,h2,h3,h4,h5,h6".split(","));if(bi){bp=bo.cloneRange();bp.selectNode(bi);if(a0(bp).length==0){bl=x.create(be,"p");if(bi.nextSibling){aT(bp,bi.parentNode)}x.insertAfter(bl,bi.parentNode);x.remove(bi.parentNode.childNodes.length==1?bi.parentNode:bi);bl.innerHTML=bf;bk=bl}}else{if(bh&&!bj.nextSibling){bl=x.create(be,"p");x.insertAfter(bl,bh);bl.innerHTML=bf;x.remove(bj);bk=bl}}if(!bk){if(!(bi||bh)){new i([{tags:["p"]}]).apply([bj])}bo.selectNode(bj);bm=x.parentOfType(bj,[bi?"li":bh?x.name(bh):"p"]);aT(bo,bm,bq);bn=bm.previousSibling;if(x.is(bn,"li")&&bn.firstChild&&!x.is(bn.firstChild,"br")){bn=bn.firstChild}bk=bm.nextSibling;if(x.is(bk,"li")&&bk.firstChild&&!x.is(bk.firstChild,"br")){bk=bk.firstChild}x.remove(bm);function bd(bs){if(bs.firstChild&&x.is(bs.firstChild,"br")){x.remove(bs.firstChild)}if(am(bs)&&bs.nodeValue==""){bs=bs.parentNode}if(bs&&!x.is(bs,"img")){while(bs.firstChild&&bs.firstChild.nodeType==1){bs=bs.firstChild}if(bs.innerHTML==""){bs.innerHTML=bf}}}bd(bn);bd(bk);aB(bn)}aB(bk);if(x.is(bk,"img")){bo.setStartBefore(bk)}else{bo.selectNodeContents(bk)}bo.collapse(true);x.scrollTo(bk);aR(bo)}}function aA(bb){p.call(this,bb);this.exec=function(){var be=this.getRange();be.deleteContents();var bc=x.create(w(be),"br");be.insertNode(bc);aB(bc.parentNode);if(!a.browser.msie&&(!bc.nextSibling||x.isWhitespace(bc.nextSibling))){var bd=bc.cloneNode(true);bd.setAttribute("_moz_dirty","");x.insertAfter(bd,bc)}be.setStartAfter(bc);be.collapse(true);aR(be)}}function at(bb){var bc=[bb=="ul"?"ol":"ul",bb];h.call(this,[{tags:bc}]);this.isFormatted=function(bg){var be=[],bd;for(var bf=0;bf<bg.length;bf++){if((bd=this.findFormat(bg[bf]))&&x.name(bd)==bb){be.push(bd)}}if(be.length<1){return false}if(be.length!=bg.length){return false}for(bf=0;bf<be.length;bf++){if(be[bf].parentNode!=bd.parentNode){break}if(be[bf]!=bd){return false}}return true};this.findSuitable=function(be){var bd=x.parentOfType(be[0],bc);if(bd&&x.name(bd)==bb){return bd}return null}}function au(be,bg){var bc=new at(be);function bh(bk,bm){var bj=x.create(bk.ownerDocument,"li");for(var bi=0;bi<bm.length;bi++){var bl=bm[bi];if(x.is(bl,"li")){bk.appendChild(bl);continue}if(x.is(bl,"ul")||x.is(bl,"ol")){while(bl.firstChild){bk.appendChild(bl.firstChild)}continue}if(x.is(bl,"td")){while(bl.firstChild){bj.appendChild(bl.firstChild)}bk.appendChild(bj);bl.appendChild(bk);bk=bk.cloneNode(false);bj=bj.cloneNode(false);continue}bj.appendChild(bl);if(x.isBlock(bl)){bk.appendChild(bj);x.unwrap(bl);bj=bj.cloneNode(false)}}if(bj.firstChild){bk.appendChild(bj)}}function bb(bk,bj){for(var bi=0;bi<bj.length;bi++){if(al(bk,bj[bi])){return true}}return false}function bd(bi,bj){if(bi.className=="t-marker"){var bk=bi.nextSibling;if(bk&&x.isBlock(bk)){return false}bk=bi.previousSibling;if(bk&&x.isBlock(bk)){return false}}return bb(bi,bj)||x.isInline(bi)||bi.nodeType==3}this.split=function(bo){var bm=a0(bo);if(bm.length){var bp=x.parentOfType(bm[0],["li"]);var bi=x.parentOfType(bm[bm.length-1],["li"]);bo.setStartBefore(bp);bo.setEndAfter(bi);for(var bk=0,bl=bm.length;bk<bl;bk++){var bj=bc.findFormat(bm[bk]);if(bj){var bn=a(bj).parents("ul,ol");if(bn[0]){aT(bo,bn.last()[0],true)}else{aT(bo,bj,true)}}}}};this.apply=function(bq){var bl=bq.length==1?x.parentOfType(bq[0],["ul","ol"]):x.commonAncestor.apply(null,bq);if(!bl){bl=x.parentOfType(bq[0],["td"])||bq[0].ownerDocument.body}if(x.isInline(bl)){bl=x.blockParentOrBody(bl)}var bi=[];var bm=bc.findSuitable(bq);if(!bm){bm=new at(be=="ul"?"ol":"ul").findSuitable(bq)}var bk=x.significantChildNodes(bl);if(!bk.length){bk=bq}if(/table|tbody/.test(x.name(bl))){bk=a.map(bq,function(bs){return x.parentOfType(bs,["td"])})}for(var bn=0;bn<bk.length;bn++){var bj=bk[bn];var bp=x.name(bj);if(bd(bj,bq)&&(!bm||!al(bm,bj))){if(bm&&(bp=="ul"||bp=="ol")){a.each(bj.childNodes,function(){bi.push(this)});x.remove(bj)}else{bi.push(bj)}}}if(bi.length==bk.length&&bl!=bq[0].ownerDocument.body&&!/table|tbody|tr|td/.test(x.name(bl))){bi=[bl]}if(!bm){bm=x.create(bl.ownerDocument,be);x.insertBefore(bm,bi[0])}bh(bm,bi);if(!x.is(bm,be)){x.changeTag(bm,be)}var br=bm.previousSibling;while(br&&(br.className=="t-marker"||(br.nodeType==3&&x.isWhitespace(br)))){br=br.previousSibling}if(br&&x.name(br)==be){while(bm.firstChild){br.appendChild(bm.firstChild)}x.remove(bm);bm=br}var bo=bm.nextSibling;while(bo&&(bo.className=="t-marker"||(bo.nodeType==3&&x.isWhitespace(bo)))){bo=bo.nextSibling}if(bo&&x.name(bo)==be){while(bm.lastChild){bo.insertBefore(bm.lastChild,bo.firstChild)}x.remove(bm)}};function bf(bn){var bm=a(bn).parents("ul,ol"),bk,bl,bi,bj;if(bm[0]){bj=function(bo){x.insertBefore(bo,bm.last()[0])}}else{bj=function(bo){x.insertBefore(bo,bn)}}for(bk=bn.firstChild;bk;bk=bk.nextSibling){bl=x.create(bn.ownerDocument,bg||"p");while(bk.firstChild){bi=bk.firstChild;if(x.isBlock(bi)){if(bl.firstChild){bj(bl);bl=x.create(bn.ownerDocument,bg||"p")}bj(bi)}else{bl.appendChild(bi)}}if(bl.firstChild){bj(bl)}}if(bm[0]){bm.last().remove()}x.remove(bn)}this.remove=function(bl){var bi;for(var bj=0,bk=bl.length;bj<bk;bj++){if(bi=bc.findFormat(bl[bj])){bf(bi)}}};this.toggle=function(bk){var bj=a0(bk),bi=bk.commonAncestorContainer;if(!bj.length){bk.selectNodeContents(bi);bj=a0(bk);if(!bj.length){var bl=bi.ownerDocument.createTextNode("");bk.startContainer.appendChild(bl);bj=[bl];bk.selectNode(bl.parentNode)}}if(bc.isFormatted(bj)){this.split(bk);this.remove(bj)}else{this.apply(bj)}}}function ar(bb){bb.formatter=new au(bb.tag);p.call(this,bb)}function av(bb){Q.call(this,a.extend(bb,{finder:new at(bb.tag)}));this.command=function(bc){return new ar(a.extend(bc,{tag:bb.tag}))}}function ap(){this.findSuitable=function(bb){return x.parentOfType(bb,["a"])}}function aq(){this.finder=new ap();this.apply=function(bh,bc){var bg=a0(bh);if(bc.innerHTML!=undefined){var bf=S(bh);var bd=w(bh);bh.deleteContents();var bb=x.create(bd,"a",bc);bh.insertNode(bb);if(bf.length>1){x.insertAfter(bf[bf.length-1],bb);x.insertAfter(bf[1],bb);x[bg.length>0?"insertBefore":"insertAfter"](bf[0],bb)}}else{var be=new af([{tags:["a"]}],bc);be.finder=this.finder;be.apply(bg)}}}function a4(bb){bb.formatter={toggle:function(bc){new af([{tags:["a"]}]).remove(a0(bc))}};p.call(this,bb)}function ao(bd){p.call(this,bd);var bb;this.async=true;var bc=new aq();this.exec=function(){var bl=this.getRange();var bh=bl.collapsed;bl=this.lockRange(true);var bk=a0(bl);var bj=null;var bm=this;function bf(bo){var bp=a("#t-editor-link-url",bi.element).val();if(bp&&bp!="http://"){bb={href:bp};var bs=a("#t-editor-link-title",bi.element).val();if(bs){bb.title=bs}var br=a("#t-editor-link-text",bi.element).val();if(br!==bj){bb.innerHTML=br||bp}var bq=a("#t-editor-link-target",bi.element).is(":checked");if(bq){bb.target="_blank"}bc.apply(bl,bb)}bg(bo);if(bm.change){bm.change()}}function bg(bo){bo.preventDefault();bi.destroy();ba(w(bl)).focus();bm.releaseRange(bl)}var be=bk.length?bc.finder.findSuitable(bk[0]):null;var bn=bk.length<=1||(bk.length==2&&bh);var bi=b.window.create(a.extend({},this.editor.dialogOptions,{title:"Insert link",html:new a.telerik.stringBuilder().cat('<div class="t-editor-dialog">').cat("<ol>").cat('<li class="t-form-text-row"><label for="t-editor-link-url">Web address</label><input type="text" class="t-input" id="t-editor-link-url"/></li>').catIf('<li class="t-form-text-row"><label for="t-editor-link-text">Text</label><input type="text" class="t-input" id="t-editor-link-text"/></li>',bn).cat('<li class="t-form-text-row"><label for="t-editor-link-title">Tooltip</label><input type="text" class="t-input" id="t-editor-link-title"/></li>').cat('<li class="t-form-checkbox-row"><input type="checkbox" id="t-editor-link-target"/><label for="t-editor-link-target">Open link in new window</label></li>').cat("</ol>").cat('<div class="t-button-wrapper">').cat('<button class="t-dialog-insert t-button">Insert</button>').cat("&nbsp;or&nbsp;").cat('<a href="#" class="t-dialog-close t-link">Close</a>').cat("</div>").cat("</div>").string(),onClose:bg})).hide().find(".t-dialog-insert").click(bf).end().find(".t-dialog-close").click(bg).end().find(".t-form-text-row input").keydown(function(bo){if(bo.keyCode==13){bf(bo)}else{if(bo.keyCode==27){bg(bo)}}}).end().find("#t-editor-link-url").val(be?be.getAttribute("href",2):"http://").end().find("#t-editor-link-text").val(bk.length>0?(bk.length==1?bk[0].nodeValue:bk[0].nodeValue+bk[1].nodeValue):"").end().find("#t-editor-link-title").val(be?be.title:"").end().find("#t-editor-link-target").attr("checked",be?be.target=="_blank":false).end().show().data("tWindow").center();if(bn&&bk.length>0){bj=a("#t-editor-link-text",bi.element).val()}a("#t-editor-link-url",bi.element).focus().select()},this.redo=function(){var be=this.lockRange(true);bc.apply(be,bb);this.releaseRange(be)}}function a5(bd){a1.call(this,a.extend(bd,{command:a4}));var bc=new ae([{tags:["a"]}]),bb=this.init;this.init=function(be,bf){bb.call(this,be,bf);be.addClass("t-state-disabled")};this.update=function(be,bf){be.toggleClass("t-state-disabled",!bc.isFormatted(bf)).removeClass("t-state-hover")}}function X(bd){p.call(this,bd);this.async=true;var bb;function bc(be,bf){if(bb.src&&bb.src!="http://"){if(!be){be=x.create(w(bf),"img",bb);be.onload=be.onerror=function(){be.removeAttribute("complete");be.removeAttribute("width");be.removeAttribute("height")};bf.deleteContents();bf.insertNode(be);bf.setStartAfter(be);bf.setEndAfter(be);aR(bf);return true}else{x.attr(be,bb)}}return false}this.redo=function(){var be=this.lockRange();if(!bc(aK.image(be),be)){this.releaseRange(be)}};this.exec=function(){var bl=this.lockRange();var bf=false;var bk=aK.image(bl);var bm=this;function bg(bo){bb={src:a("#t-editor-image-url",bi.element).val(),alt:a("#t-editor-image-title",bi.element).val()};bf=bc(bk,bl);bh(bo);if(bm.change){bm.change()}}function bh(bo){bo.preventDefault();bi.destroy();ba(w(bl)).focus();if(!bf){bm.releaseRange(bl)}}var bj=this.editor.fileBrowser;var bn=bj&&bj.selectUrl!==undefined;function be(){if(bn){new b.imageBrowser(a(this).find(".t-image-browser"),a.extend(bj,{apply:bg,element:bm.editor.element,localization:bm.editor.localization}))}}var bi=b.window.create(a.extend({width:750},this.editor.dialogOptions,{title:"Insert image",html:new a.telerik.stringBuilder().cat('<div class="t-editor-dialog">').catIf('<div class="t-image-browser"></div>',bn).cat("<ol>").cat('<li class="t-form-text-row"><label for="t-editor-image-url">Web address</label><input type="text" class="t-input" id="t-editor-image-url"/></li>').cat('<li class="t-form-text-row"><label for="t-editor-image-title">Tooltip</label><input type="text" class="t-input" id="t-editor-image-title"/></li>').cat("</ol>").cat('<div class="t-button-wrapper">').cat('<button class="t-dialog-insert t-button">Insert</button>').cat("&nbsp;or&nbsp;").cat('<a href="#" class="t-dialog-close t-link">Close</a>').cat("</div>").cat("</div>").string(),onClose:bh,onActivate:be})).hide().find(".t-dialog-insert").click(bg).end().find(".t-dialog-close").click(bh).end().find(".t-form-text-row input").keydown(function(bo){if(bo.keyCode==13){bg(bo)}else{if(bo.keyCode==27){bh(bo)}}}).end().toggleClass("t-imagebrowser",bn).find("#t-editor-image-url").val(bk?bk.getAttribute("src",2):"http://").end().find("#t-editor-image-title").val(bk?bk.alt:"").end().show().data("tWindow").center();a("#t-editor-image-url",bi.element).focus().select()}}b.selectbox=function(be,bg){var bi;var bb=a(be).attr("tabIndex",0);var bc=bb.find(".t-input");var bd=this.dropDown=new b.dropDown({effects:b.fx.slide.defaults(),onItemCreate:bg.onItemCreate,onClick:function(bk){bh(bg.data[a(bk.item).index()].Value);bg.onChange({value:bi})}});function bf(){if(!bd.$items){bd.dataBind(bg.data)}}function bj(bk){bc.html(bk?bk:"&nbsp;")}function bh(bm){bf();var bl=-1;for(var bk=0,bn=bg.data.length;bk<bn;bk++){if(bg.data[bk].Value==bm){bl=bk;break}}if(bl!=-1){bd.$items.removeClass("t-state-selected").eq(bl).addClass("t-state-selected");bj(a(bd.$items[bl]).text());bi=bg.data[bl].Value}}this.value=function(bk){if(bk==undefined){return bi}bh(bk);if(bi!=bk){bj(bg.title||bk)}};this.close=function(){bd.close()};bj(bg.title||bc.text());bb.click(function(bk){bf();if(bd.isOpened()){bd.close()}else{bd.open({offset:bb.offset(),outerHeight:bb.outerHeight(),outerWidth:bb.outerWidth(),zIndex:b.getElementZIndex(bb[0])})}}).find("*").attr("unselectable","on").end().keydown(function(bk){var bl=bk.keyCode,bo,bn,bm;if(bl===40){if(!bd.isOpened()){bb.click()}else{bo=bd.$items.filter(".t-state-selected");if(!bo[0]){bm=bd.$items.first()}else{bm=bo.next()}if(bm[0]){bo.removeClass("t-state-selected");bm.addClass("t-state-selected")}}bk.preventDefault()}else{if(bl===38){if(bd.isOpened()){bo=bd.$items.filter(".t-state-selected");bn=bo.prev();if(bn[0]){bo.removeClass("t-state-selected");bn.addClass("t-state-selected")}}bk.preventDefault()}else{if(bl==13){bo=bd.$items.filter(".t-state-selected");if(bo[0]){bo.click()}bk.preventDefault()}else{if(bk.keyCode==9||bk.keyCode==39||bk.keyCode==37){bd.close()}}}}});if(a.browser.msie){bb.focus(function(){bb.css("outline","1px dotted #000")}).blur(function(){bb.css("outline","")})}bd.$element.css("direction",bb.closest(".t-rtl").length>0?"rtl":"");a(document.documentElement).bind("mousedown",a.proxy(function(bl){var bk=bd.$element;var bm=bk&&bk.parent().length>0;if(bm&&!a.contains(be,bl.target)&&!a.contains(bk.parent()[0],bl.target)){bd.close()}},this))};a.fn.tSelectBox=function(bb){return b.create(this,{name:"tSelectBox",init:function(bc,bd){return new b.selectbox(bc,bd)},options:bb})};a.fn.tSelectBox.defaults={effects:b.fx.slide.defaults()};b.colorpicker=function(bc,bd){var be=this;be.element=bc;var bb=a(bc);a.extend(be,bd);bb.attr("tabIndex",0).click(a.proxy(be.click,be)).keydown(function(bf){var bh=be.popup(),bj,bg,bi;if(bf.keyCode==40){if(!bh.is(":visible")){be.open()}else{bj=bh.find(".t-state-selected");if(bj[0]){bg=bj.next()}else{bg=bh.find("li:first")}if(bg[0]){bj.removeClass("t-state-selected");bg.addClass("t-state-selected")}}bf.preventDefault()}else{if(bf.keyCode==38){if(bh.is(":visible")){bj=bh.find(".t-state-selected");bi=bj.prev();if(bi[0]){bj.removeClass("t-state-selected");bi.addClass("t-state-selected")}}bf.preventDefault()}else{if(bf.keyCode==9||bf.keyCode==39||bf.keyCode==37){be.close()}else{if(bf.keyCode==13){bh.find(".t-state-selected").click();bf.preventDefault()}}}}}).find("*").attr("unselectable","on");if(a.browser.msie){bb.focus(function(){bb.css("outline","1px dotted #000")}).blur(function(){bb.css("outline","")})}if(be.selectedColor){bb.find(".t-selected-color").css("background-color",this.selectedColor)}a(bc.ownerDocument.documentElement).bind("mousedown",a.proxy(function(bf){if(!a(bf.target).closest(".t-colorpicker-popup").length){this.close()}},be));b.bind(be,{change:be.onChange,load:be.onLoad})};b.colorpicker.prototype={select:function(bb){if(bb){bb=x.toHex(bb);if(!b.trigger(this.element,"change",{value:bb})){this.value(bb);this.close()}}else{b.trigger(this.element,"change",{value:this.selectedColor})}},open:function(){var bc=this.popup();var bb=a(this.element);var bd=bb.offset();bd.top+=bb.outerHeight();if(bb.closest(".t-rtl").length){bd.left-=bc.outerWidth()-bb.outerWidth()}var be="auto";bb.parents().andSelf().each(function(){be=a(this).css("zIndex");if(Number(be)){be=Number(be)+1;return false}});b.fx._wrap(bc).css(a.extend({position:"absolute",zIndex:be},bd));bc.find(".t-item").bind("click",a.proxy(function(bg){var bf=a(bg.currentTarget,bg.target.ownerDocument).find("div").css("background-color");this.select(bf)},this));b.fx.play(this.effects,bc,{direction:"bottom"})},close:function(){if(!this.$popup){return}b.fx.rewind(this.effects,this.$popup,{direction:"bottom"},a.proxy(function(){if(this.$popup){x.remove(this.$popup[0].parentNode);this.$popup=null}},this))},toggle:function(){if(!this.$popup||!this.$popup.is(":visible")){this.open()}else{this.close()}},click:function(bb){if(a(bb.target).closest(".t-tool-icon").length>0){this.select()}else{this.toggle()}},value:function(bb){if(!bb){return this.selectedColor}bb=x.toHex(bb);this.selectedColor=bb;a(".t-selected-color",this.element).css("background-color",bb)},popup:function(){if(!this.$popup){this.$popup=a(b.colorpicker.buildPopup(this)).hide().appendTo(document.body).find("*").attr("unselectable","on").end()}return this.$popup}};a.extend(b.colorpicker,{buildPopup:function(bb){var be=new b.stringBuilder();be.cat('<div class="t-popup t-group t-colorpicker-popup">').cat('<ul class="t-reset">');var bd=bb.data;var bc=(bb.value()||"").substring(1);for(var bf=0,bg=bd.length;bf<bg;bf++){be.cat('<li class="t-item').catIf(" t-state-selected",bd[bf]==bc).cat('"><div style="background-color:#').cat(bd[bf]).cat('"></div></li>')}be.cat("</ul></div>");return be.string()}});a.fn.tColorPicker=function(bb){return b.create(this,{name:"tColorPicker",init:function(bc,bd){return new b.colorpicker(bc,bd)},options:bb})};a.fn.tColorPicker.defaults={data:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7".split(","),selectedColor:null,effects:b.fx.slide.defaults()};function Y(bb,bd){var bc=x.name(bb)!="td"?"marginLeft":"paddingLeft";if(bd===undefined){return bb.style[bc]||0}else{if(bd>0){bb.style[bc]=bd+"px"}else{bb.style[bc]="";if(bb.style.cssText==""){bb.removeAttribute("style")}}}}function aa(){var bb=new h([{tags:g}]);this.apply=function(bk){var bf=bb.findSuitable(bk);if(bf.length){var bn=[];for(var bh=0;bh<bf.length;bh++){if(x.is(bf[bh],"li")){if(a(bf[bh]).index()==0){bn.push(bf[bh].parentNode)}else{if(a.inArray(bf[bh].parentNode,bn)<0){bn.push(bf[bh])}}}else{bn.push(bf[bh])}}while(bn.length){var be=bn.shift();if(x.is(be,"li")){var bl=be.parentNode;var bc=a(be).prev("li");var bd=bc.find("ul,ol").last();var bj=a(be).children("ul,ol")[0];if(bj&&bc[0]){if(bd[0]){bd.append(be);bd.append(a(bj).children());x.remove(bj)}else{bc.append(bj);bj.insertBefore(be,bj.firstChild)}}else{bj=bc.children("ul,ol")[0];if(!bj){bj=x.create(be.ownerDocument,x.name(bl));bc.append(bj)}while(be&&be.parentNode==bl){bj.appendChild(be);be=bn.shift()}}}else{var bi=parseInt(Y(be))+30;Y(be,bi);for(var bm=0;bm<bn.length;bm++){if(a.contains(be,bn[bm])){bn.splice(bm,1)}}}}}else{var bg=new i([{tags:g}],{style:{marginLeft:30}});bg.apply(bk)}};this.remove=function(bj){var bg=bb.findSuitable(bj),bk;for(var bh=0;bh<bg.length;bh++){var bc=a(bg[bh]);if(bc.is("li")){var bd=bc.parent();var be=bd.parent();if(be.is("li,ul,ol")&&!Y(bd[0])){if(bk&&a.contains(bk,be[0])){continue}var bf=bc.nextAll("li");if(bf.length){a(bd[0].cloneNode(false)).appendTo(bc).append(bf)}if(be.is("li")){bc.insertAfter(be)}else{bc.appendTo(be)}if(!bd.children("li").length){bd.remove()}continue}else{if(bk==bd[0]){continue}bk=bd[0]}}else{bk=bg[bh]}var bi=parseInt(Y(bk))-30;Y(bk,bi)}}}function Z(bb){bb.formatter={toggle:function(bc){new aa().apply(aK.nodes(bc))}};p.call(this,bb)}function aD(bb){bb.formatter={toggle:function(bc){new aa().remove(aK.nodes(bc))}};p.call(this,bb)}function aE(){a1.call(this,{command:aD});var bc=new h([{tags:g}]),bb=this.init;this.init=function(bd,be){bb.call(this,bd,be);bd.addClass("t-state-disabled")};this.update=function(bd,bh){var bi=bc.findSuitable(bh),bf,bg;for(var be=0;be<bi.length;be++){bf=Y(bi[be]);if(!bf){bg=a(bi[be]).parents("ul,ol").length;bf=(x.is(bi[be],"li")&&(bg>1||Y(bi[be].parentNode)))||(x.ofType(bi[be],["ul","ol"])&&bg>0)}if(bf){bd.removeClass("t-state-disabled");return}}bd.addClass("t-state-disabled").removeClass("t-state-hover")}}function aG(bb){this.editor=bb;this.formats=[]}aG.prototype={apply:function(bh){if(!this.hasPending()){return}var bf=new ay();bf.addCaret(bh);var bb=bh.startContainer.childNodes[bh.startOffset];var bi=bb.previousSibling;if(!bi.nodeValue){bi=bi.previousSibling}bh.setStart(bi,bi.nodeValue.length-1);bf.add(bh);if(a0(bh).length==0){bf.remove(bh);bh.collapse(true);this.editor.selectRange(bh);return}var bj=bf.end.previousSibling.previousSibling;var bg,bd=this.formats;for(var be=0;be<bd.length;be++){bg=bd[be];var bc=bg.command(a.extend({range:bh},bg.params));bc.editor=this.editor;bc.exec();bh.selectNode(bj)}bf.remove(bh);if(bj.parentNode){bh.setStart(bj,1);bh.collapse(true)}this.clear();this.editor.selectRange(bh)},hasPending:function(){return this.formats.length>0},isPending:function(bb){return !!this.getPending(bb)},getPending:function(bb){var bc=this.formats;for(var bd=0;bd<bc.length;bd++){if(bc[bd].name==bb){return bc[bd]}}return},toggle:function(bb){var bc=this.formats;for(var bd=0;bd<bc.length;bd++){if(bc[bd].name==bb.name){if(bc[bd].params&&bc[bd].params.value!=bb.params.value){bc[bd].params.value=bb.params.value}else{bc.splice(bd,1)}return}}bc.push(bb)},clear:function(){this.formats=[]}};function r(bb,bf){bb.hide();var be=a("<iframe />",{src:'javascript:"<html></html>"',frameBorder:"0"}).css("display","").addClass("t-content").insertBefore(bb)[0];var bg=be.contentWindow||be;var bc=bg.document||be.contentDocument;var bd=bb.val().replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/[\r\n\v\f\t ]+/ig," ");if(!bd.length&&a.browser.mozilla){bd='<br _moz_dirty="true" />'}bc.designMode="On";bc.open();bc.write(new b.stringBuilder().cat("<!DOCTYPE html><html><head>").cat('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />').cat('<style type="text/css">').cat("html,body{padding:0;margin:0;font-family:Verdana,Geneva,sans-serif;background:#fff;}").cat("html{font-size:100%}body{font-size:.75em;line-height:1.5;padding-top:1px;margin-top:-1px;").catIf("direction:rtl;",bb.closest(".t-rtl").length).cat("}").cat("h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}").cat("p{margin:0 0 1em;padding:0 .2em}.t-marker{display:none;}.t-paste-container{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}").cat("ul,ol{padding-left:2.5em}").cat("a{color:#00a}").cat("code{font-size:1.23em}").cat("</style>").cat(a.map(bf,function(bh){return['<link type="text/css" href="',bh,'" rel="stylesheet"/>'].join("")}).join("")).cat('</head><body spellcheck="false">').cat(bd).cat("</body></html>").string());bc.close();return bg}function aN(bb){b.trigger(bb.element,"selectionChange")}var J=".t-colorpicker,a.t-tool-icon:not(.t-state-disabled),.t-selectbox, .t-combobox .t-input";function ab(bb){var bc=true;bb.window=r(a(bb.textarea),bb.stylesheets);bb.document=bb.window.contentDocument||bb.window.document;bb.body=bb.document.body;a(bb.document).bind({keydown:function(bd){if(bd.keyCode==9&&bd.shiftKey&&!bd.altKey&&!bd.ctrlKey){var be=a(bb.element).find(J);if(be.length){bd.preventDefault();be.focus()}}else{if(bd.keyCode===121){setTimeout(function(){var bh=a(bb.element).attr("tabIndex");a(bb.element).attr("tabIndex",bh||0).focus().find(J).first().focus();if(!bh&&bh!==0){a(bb.element).removeAttr("tabIndex")}},100);bd.preventDefault()}else{var bg=bb.keyboard.toolFromShortcut(bb.tools,bd);if(bg){bd.preventDefault();if(!/undo|redo/.test(bg)){bb.keyboard.endTyping(true)}bb.exec(bg);return false}if(bb.keyboard.isTypingKey(bd)&&bb.pendingFormats.hasPending()){if(bc){bc=false}else{var bf=bb.getRange();bb.pendingFormats.apply(bf);bb.selectRange(bf)}}bb.keyboard.clearTimeout();bb.keyboard.keydown(bd)}}},keyup:function(bd){var bf=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(a.browser.mozilla&&bd.keyCode==8){H(bb,bd)}if(a.inArray(bd.keyCode,bf)>-1||(bd.keyCode==65&&bd.ctrlKey&&!bd.altKey&&!bd.shiftKey)){bb.pendingFormats.clear();aN(bb)}if(bb.keyboard.isTypingKey(bd)){if(bb.pendingFormats.hasPending()){var be=bb.getRange();bb.pendingFormats.apply(be);bb.selectRange(be)}}else{bc=true}bb.keyboard.keyup(bd)},mousedown:function(bd){bb.pendingFormats.clear();var be=a(bd.target);if(!a.browser.gecko&&bd.which==2&&be.is("a[href]")){window.open(be.attr("href"),"_new")}},mouseup:function(){aN(bb)}});a(bb.window).bind("blur",function(){var bd=bb.textarea.value,be=bb.encodedValue();bb.update(be);if(be!=bd){b.trigger(bb.element,"change")}});a(bb.body).bind("cut paste",function(bd){bb.clipboard["on"+bd.type](bd)})}var aC=(function v(bh){var be=false,bd=[],bc={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android)\s+(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|PlayBook).*?Version\/(\d+)\.(\d+(\.\d+)?)/},bf={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i},bg=function(bi){for(var bj in bf){if(bf.hasOwnProperty(bj)&&bf[bj].test(bi)){return bj}}return bi};for(var bb in bc){if(bc.hasOwnProperty(bb)){bd=bh.match(bc[bb]);if(bd){be={};be.device=bb;be.name=bg(bb);be[be.name]=true;be.majorVersion=bd[2];be.minorVersion=bd[3].replace("_",".");break}}}return be})(navigator.userAgent);var aY=!aC||(aC.ios&&aC.majorVersion>=5);b.editor=function(bf,bi){if(!aY){return}var bj=this;this.element=bf;var bb=a(bf);bb.closest("form").bind("submit",function(){bj.update()});a.extend(this,bi);b.bind(this,{load:this.onLoad,selectionChange:this.onSelectionChange,change:this.onChange,execute:this.onExecute,error:this.onError,paste:this.onPaste});for(var bh in this.tools){this.tools[bh].name=bh.toLowerCase()}this.textarea=bb.find("textarea").attr("autocomplete","off")[0];ab(this);this.keyboard=new an([new a2(this),new aZ(this)]);this.clipboard=new n(this);this.pendingFormats=new aG(this);this.undoRedoStack=new a3();function bl(bm){var bn=a.grep(bm.className.split(" "),function(bo){return !/^t-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(bo)});return bn[0]?bn[0].substring(2):"custom"}function bc(bm,bn){if(!bn.key){return bm}return new b.stringBuilder().cat(bm).cat(" (").catIf("Ctrl + ",bn.ctrl).catIf("Shift + ",bn.shift).catIf("Alt + ",bn.alt).cat(bn.key).cat(")").string()}var bk=".t-editor-toolbar > li > *",bd=".t-editor-button .t-tool-icon",bg=bd+":not(.t-state-disabled)",be=bd+".t-state-disabled";bb.find(".t-combobox .t-input").keydown(function(bn){var bm=a(this).closest(".t-combobox").data("tComboBox"),bo=bn.keyCode;if(bo==39||bo==37){bm.close()}else{if(bo==40){if(!bm.dropDown.isOpened()){bn.stopImmediatePropagation();bm.open()}}}});bb.delegate(bg,"mouseenter",b.hover).delegate(bg,"mouseleave",b.leave).delegate(bd,"mousedown",b.preventDefault).delegate(J,"keydown",function(bn){var bm=a(this).closest("li"),bo="li:has("+J+")",bp,bq=bn.keyCode;if(bq==39){bp=bm.nextAll(bo).first().find(J)}else{if(bq==37){bp=bm.prevAll(bo).last().find(J)}else{if(bq==27){bp=bj}else{if(bq==9&&!(bn.ctrlKey||bn.altKey)){if(bn.shiftKey){bp=bm.prevAll(bo).last().find(J);if(bp.length){bn.preventDefault()}else{return}}else{bn.preventDefault();bp=bm.nextAll(bo).first().find(J);if(bp.length==0){bp=bj}}}}}}if(bp){bp.focus()}}).delegate(bg,"click",b.stopAll(function(bm){bj.exec(bl(this))})).delegate(be,"click",function(bm){bm.preventDefault()}).find(bk).each(function(){var bq=bl(this),bp=bj.tools[bq],bn=bj.localization[bq],bm=a(this);if(!bp){return}if(bq=="fontSize"||bq=="fontName"){var bo=bj.localization[bq+"Inherit"]||aw[bq+"Inherit"];bj[bq][0].Text=bo;bm.find("input").val(bo).end().find("span.t-input").text(bo).end()}bp.init(bm,{title:bc(bn,bp),editor:bj})}).end().bind("selectionChange",function(){var bn=bj.getRange();var bm=a0(bn);if(!bm.length){bm=[bn.startContainer]}bb.find(bk).each(function(){var bo=bj.tools[bl(this)];if(bo){bo.update(a(this),bm,bj.pendingFormats)}})});a(document).bind("DOMNodeInserted",function(bm){if(a.contains(bm.target,bj.element)||bj.element==bm.target){bj.textarea.value=bj.value();a(bj.element).find("iframe").remove();ab(bj)}}).bind("mousedown",function(bm){try{if(bj.keyboard.typingInProgress()){bj.keyboard.endTyping(true)}if(!bj.selectionRestorePoint){bj.selectionRestorePoint=new aL(bj.getRange())}}catch(bm){}})};function H(bc,bb){var be=bc.getRange(),bf=be.startContainer;if(bf==bc.body.firstChild||!x.isBlock(bf)||(bf.childNodes.length>0&&!(bf.childNodes.length==1&&x.is(bf.firstChild,"br")))){return}var bd=bf.previousSibling;while(bd&&!x.isBlock(bd)){bd=bd.previousSibling}if(!bd){return}var bh=bc.document.createTreeWalker(bd,NodeFilter.SHOW_TEXT,null,false);var bg;while(bg=bh.nextNode()){bd=bg}be.setStart(bd,am(bd)?bd.nodeValue.length:0);be.collapse(true);aR(be);x.remove(bf);bb.preventDefault()}a.extend(b.editor,{BlockFormatFinder:h,BlockFormatter:i,Dom:x,FormatCommand:O,GenericCommand:R,GreedyBlockFormatter:U,GreedyInlineFormatFinder:V,GreedyInlineFormatter:W,ImageCommand:X,IndentCommand:Z,IndentFormatter:aa,InlineFormatFinder:ae,InlineFormatter:af,InsertHtmlCommand:ai,Keyboard:an,LinkCommand:ao,LinkFormatFinder:ap,LinkFormatter:aq,ListCommand:ar,ListFormatFinder:at,ListFormatter:au,MSWordFormatCleaner:az,Marker:ay,NewLineCommand:aA,OutdentCommand:aD,ParagraphCommand:aF,PendingFormats:aG,RangeEnumerator:aI,RangeUtils:aK,RestorePoint:aL,SystemHandler:aZ,TypingHandler:a2,UndoRedoStack:a3,UnlinkCommand:a4});b.editor.prototype={value:function(bc){var bb=this.body;if(typeof bc=="undefined"){return y(bb)}this.pendingFormats.clear();bc=bc.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->");bc=bc.replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script $1>$2</telerik:script>");if(a.browser.mozilla){bc=bc.replace(/<p([^>]*)>(\s*)?<\/p>/ig,'<p $1><br _moz_dirty="" /></p>')}if(a.browser.msie&&parseInt(a.browser.version)<9){bc="<br/>"+bc;var be="originalsrc",bd="originalhref";bc=bc.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,bd+'="$1"');bc=bc.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,be+'="$1"');bb.innerHTML=bc;x.remove(bb.firstChild);a(bb).find("telerik\\:script,script,link,img,a").each(function(){var bf=this;if(bf[bd]){bf.setAttribute("href",bf[bd]);bf.removeAttribute(bd)}if(bf[be]){bf.setAttribute("src",bf[be]);bf.removeAttribute(be)}})}else{bb.innerHTML=bc;if(a.browser.msie){aB(bb)}}this.selectionRestorePoint=null;this.update()},focus:function(){this.window.focus()},update:function(bb){this.textarea.value=bb||this.encoded?this.encodedValue():this.value()},encodedValue:function(){return x.encode(this.value())},createRange:function(bb){return s(bb||this.document)},getSelection:function(){return aO(this.document)},selectRange:function(bb){this.focus();var bc=this.getSelection();bc.removeAllRanges();bc.addRange(bb)},getRange:function(){var bc=this.getSelection();var bb=bc.rangeCount>0?bc.getRangeAt(0):this.createRange();if(bb.startContainer==this.document&&bb.endContainer==this.document&&bb.startOffset==0&&bb.endOffset==0){bb.setStart(this.body,0);bb.collapse(true)}return bb},selectedHtml:function(){return y(this.getRange().cloneContents())},paste:function(bb){this.clipboard.paste(bb)},exec:function(be,bf){var bg,bb,bd,bh="";be=be.toLowerCase();if(!this.keyboard.typingInProgress()){this.focus();bg=this.getRange();bb=this.document.body}for(bd in this.tools){if(bd.toLowerCase()==be){bh=this.tools[bd];break}}if(bh){bg=this.getRange();if(!/undo|redo/i.test(be)&&bh.willDelayExecution(bg)){this.pendingFormats.toggle({name:be,params:bf,command:bh.command});aN(this);return}var bc=bh.command?bh.command(a.extend({range:bg},bf)):null;b.trigger(this.element,"execute",{name:be,command:bc});if(/undo|redo/i.test(be)){this.undoRedoStack[be]()}else{if(bc){if(!bc.managesUndoRedo){this.undoRedoStack.push(bc)}bc.editor=this;bc.exec();if(bc.async){bc.change=a.proxy(function(){aN(this)},this);return}}}aN(this)}}};a.fn.tEditor=function(bb){return b.create(this,{name:"tEditor",init:function(bc,bd){return new b.editor(bc,bd)},options:bb})};var P={bold:[{tags:["strong"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}],italic:[{tags:["em"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}],underline:[{tags:["span"],attr:{style:{textDecoration:"underline"}}}],strikethrough:[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}],superscript:[{tags:["sup"]}],subscript:[{tags:["sub"]}],justifyLeft:[{tags:g,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}],justifyCenter:[{tags:g,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}],justifyRight:[{tags:g,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}],justifyFull:[{tags:g,attr:{style:{textAlign:"justify"}}}]};function N(bd,bb){for(var bc=0;bc<bb.length;bc++){if(a.inArray(bd,bb[bc].tags)>=0){return bb[bc]}}}function a1(bb){a.extend(this,bb);this.init=function(bc,bd){bc.attr({unselectable:"on",title:bd.title})};this.command=function(bc){return new bb.command(bc)};this.update=function(){};this.willDelayExecution=function(){return false}}a1.exec=function(bb,bc,bd){bb.exec(bc,{value:bd})};function Q(bb){a1.call(this,bb);this.command=function(bc){return new O(a.extend(bc,{formatter:bb.formatter}))};this.update=function(bc,bg,bh){var bf=bh.isPending(this.name),be=bb.finder.isFormatted(bg),bd=bf?!be:be;bc.toggleClass("t-state-active",bd)}}var A=function(){return{isFormatted:function(){return false}}};var aw={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found."};a.fn.tEditor.defaults={localization:aw,formats:P,encoded:true,stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,effects:{list:[{name:"toggle"}]}},fontName:[{Text:aw.fontNameInherit,Value:"inherit"},{Text:"Arial",Value:"Arial,Helvetica,sans-serif"},{Text:"Courier New",Value:"'Courier New',Courier,monospace"},{Text:"Georgia",Value:"Georgia,serif"},{Text:"Impact",Value:"Impact,Charcoal,sans-serif"},{Text:"Lucida Console",Value:"'Lucida Console',Monaco,monospace"},{Text:"Tahoma",Value:"Tahoma,Geneva,sans-serif"},{Text:"Times New Roman",Value:"'Times New Roman',Times,serif"},{Text:"Trebuchet MS",Value:"'Trebuchet MS',Helvetica,sans-serif"},{Text:"Verdana",Value:"Verdana,Geneva,sans-serif"}],fontSize:[{Text:aw.fontSizeInherit,Value:"inherit"},{Text:"1 (8pt)",Value:"xx-small"},{Text:"2 (10pt)",Value:"x-small"},{Text:"3 (12pt)",Value:"small"},{Text:"4 (14pt)",Value:"medium"},{Text:"5 (18pt)",Value:"large"},{Text:"6 (24pt)",Value:"x-large"},{Text:"7 (36pt)",Value:"xx-large"}],formatBlock:[{Text:"Paragraph",Value:"p"},{Text:"Quotation",Value:"blockquote"},{Text:"Heading 1",Value:"h1"},{Text:"Heading 2",Value:"h2"},{Text:"Heading 3",Value:"h3"},{Text:"Heading 4",Value:"h4"},{Text:"Heading 5",Value:"h5"},{Text:"Heading 6",Value:"h6"}],tools:{bold:new ag({key:"B",ctrl:true,format:P.bold}),italic:new ag({key:"I",ctrl:true,format:P.italic}),underline:new ag({key:"U",ctrl:true,format:P.underline}),strikethrough:new ag({format:P.strikethrough}),superscript:new ag({format:P.superscript}),subscript:new ag({format:P.subscript}),undo:{key:"Z",ctrl:true},redo:{key:"Y",ctrl:true},insertLineBreak:new a1({key:13,shift:true,command:aA}),insertParagraph:new a1({key:13,command:aF}),justifyCenter:new j({format:P.justifyCenter}),justifyLeft:new j({format:P.justifyLeft}),justifyRight:new j({format:P.justifyRight}),justifyFull:new j({format:P.justifyFull}),insertUnorderedList:new av({tag:"ul"}),insertOrderedList:new av({tag:"ol"}),createLink:new a1({key:"K",ctrl:true,command:ao}),unlink:new a5({key:"K",ctrl:true,shift:true}),insertImage:new a1({command:X}),indent:new a1({command:Z}),outdent:new aE(),insertHtml:new aj(),style:new aX(),fontName:new L({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName"}),fontSize:new L({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize"}),formatBlock:new M(),foreColor:new o({cssAttr:"color",domAttr:"color",name:"foreColor"}),backColor:new o({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor"})}}})(jQuery);